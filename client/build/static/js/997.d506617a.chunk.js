"use strict";(self.webpackChunktravel_app=self.webpackChunktravel_app||[]).push([[997],{4997:function(e,a,t){t.r(a);var r=t(4165),s=t(5861),n=t(4942),o=t(1413),l=t(9439),i=t(2791),c=t(1087),d=t(2388),p=t(7689),u=t(785),m=t(5872),g=t(456),x=t(8121),h=t(3746),f=t(184);a.default=function(){var e=d.Z.create({baseURL:"https://api.trouvailler.com/api"}),a=(0,i.useState)({username:void 0,password:void 0}),t=(0,l.Z)(a,2),y=t[0],v=t[1],b=(0,i.useContext)(u.V),w=b.user,N=b.loading,j=b.error,I=b.dispatch,L=(0,p.s0)(),k=function(e){v((function(a){return(0,o.Z)((0,o.Z)({},a),{},(0,n.Z)({},e.target.id,e.target.value))}))},_=function(){var a=(0,s.Z)((0,r.Z)().mark((function a(t){var s;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),I({type:"LOGIN_START"}),a.prev=2,a.next=5,e.post("/auth/login",y);case 5:(s=a.sent).data?(I({type:"LOGIN_SUCCESS",payload:s.data.details}),L("/")):I({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),I({type:"LOGIN_FAILURE",payload:{message:" "}}),j.response?(alert("Please try again!"),I({type:"LOGIN_FAILURE",payload:{message:" "}})):j.request?(alert("Network error! Please try again later."),I({type:"LOGIN_FAILURE",payload:{message:" "}})):(alert(j.message+". Please try again"),I({type:"LOGIN_FAILURE",payload:{message:" "}}));case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}(),C=function(){var a=(0,s.Z)((0,r.Z)().mark((function a(t){var s;return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return I({type:"LOGIN_START"}),a.prev=1,a.next=4,e.post("/auth/googlelogin",t);case 4:(s=a.sent).data?(I({type:"LOGIN_SUCCESS",payload:s.data.details}),L("/")):I({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),I({type:"LOGIN_FAILURE",payload:{message:" "}}),a.t0.response?a.t0.response&&405==a.t0.response.status?(alert("The user with this mail id already exists. Please try again with a different account"),I({type:"LOGIN_FAILURE",payload:{message:" "}})):a.t0.response&&403==a.t0.response.status?(alert("Please try again with a different account"),I({type:"LOGIN_FAILURE",payload:{message:" "}})):alert("Please try again with a different account!"):a.t0.request?alert("Network error! Please try again later."):alert(a.t0.message+". Please try again later.");case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();function Z(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 h-screen w-full",children:[(0,f.jsxs)("div",{className:"googlelogin h-[100vh] lg:h-auto w-[95%] md:w-[70%] lg:w-[80%] 2xl:w-[60%] mx-auto md:pt-40",children:[(0,f.jsx)("div",{className:"flex mx-8 md:justify-center",children:(0,f.jsxs)("h3",{style:{fontSize:"18px"},className:"font-medium title-font text-2xl mb-8",children:["Hey!",(0,f.jsx)("br",{}),"Welcome Back"]})}),(0,f.jsx)("div",{className:"mx-14 glogin",children:(0,f.jsx)(m.kZ,{onSuccess:function(e){console.log(e);var a=e.clientId,t=(e.credential,(0,g.Z)(e.credential)),r=(t.email,{});r.username=t.given_name,r.email=t.email;r.phone="add phone number",r.google_id=a,r.img=t.picture,C(r),console.log(w)},onError:function(){console.log("Login failed")}})}),(0,f.jsx)("p",{className:"text-center mt-8",children:"or"}),(0,f.jsxs)("div",{className:"flex mx-14 flex-col mt-5",children:[(0,f.jsx)("div",{className:"bg-[#eeeeee] rounded mb-8",children:(0,f.jsx)("input",{type:"text",className:"  p-3 outline-none  rounded  border-transparent bg-transparent w-[100%] focus:ring-[transparent]  focus:border-[transparent] ",placeholder:"Username",id:"username",onChange:k})}),(0,f.jsxs)("div",{className:"bg-[#eeeeee] rounded",children:[(0,f.jsx)("input",{type:"password",className:" p-3 outline-none rounded  border-transparent bg-transparent w-[90%] focus:ring-[transparent]  focus:border-[transparent] ",placeholder:"Password",id:"password",onChange:k}),(0,f.jsx)(h.Z,{onClick:Z,className:"text-[grey]"})]})]}),(0,f.jsxs)("div",{className:"mx-14 my-5",children:[(0,f.jsx)("button",{disabled:N,onClick:_,className:" bg-evergreen text-whiteglow font-bold w-full rounded-md p-2 my-5",children:"Login"}),j&&(0,f.jsxs)("span",{className:"text-[red] py-2",children:[j.message," username or password. Please try again"]})]}),(0,f.jsxs)("p",{className:"mx-14 text-center",children:["Don't have an account?",(0,f.jsxs)(c.rU,{className:"text-[#339633]",to:"/signup",children:[" ","Sign up here"]})]})]}),(0,f.jsx)("div",{style:{backgroundImage:"url(https://res.cloudinary.com/difxlqrlc/image/upload/q_auto/f_auto/w_1000/v1684527559/site/loginwall_pfjmtp.webp)"},className:"hidden lg:flex justify-center items-center h-[100vh] bg-center bg-no-repeat bg-cover"})]}),(0,f.jsx)("div",{className:" md:hidden  h-[70vh] w-full loginbg",children:(0,f.jsx)("div",{className:"bg-white rounded-[50px] absolute left-0 bottom-0",children:(0,f.jsxs)("div",{className:"googlelogin mx-auto ",children:[(0,f.jsx)("img",{src:x,alt:"",className:"w-[25%] mx-auto pt-8 pb-2"}),(0,f.jsx)("h1",{className:"text-center text-xs text-[grey]",children:"Personalized Trips, perfectly packaged."}),(0,f.jsxs)("div",{className:"flex flex-col mt-10",children:[(0,f.jsx)("label",{htmlFor:"",className:"mx-8 mb-1 text-sm text-[grey]",children:"Username"}),(0,f.jsx)("div",{className:"bg-[#eeeeee] rounded mx-8  mb-3",children:(0,f.jsx)("input",{type:"text",className:"  px-3 outline-none  rounded  border-transparent bg-transparent w-[100%] focus:ring-[transparent]  focus:border-[transparent] ",placeholder:"",id:"username",onChange:k})}),(0,f.jsx)("label",{htmlFor:"",className:"mx-8 mb-1 text-[grey] text-sm",children:"Password"}),(0,f.jsxs)("div",{className:"bg-[#eeeeee] rounded mx-8 mb-6",children:[(0,f.jsx)("input",{type:"password",className:" outline-none rounded  border-transparent bg-transparent w-[90%] focus:ring-[transparent]  focus:border-[transparent] ",placeholder:"",id:"password",onChange:k}),(0,f.jsx)(h.Z,{onClick:Z,className:"text-[grey]"})]})]}),(0,f.jsxs)("div",{className:"mx-8 flex flex-col",children:[(0,f.jsx)("button",{disabled:N,onClick:_,className:" bg-evergreen text-whiteglow text-sm font-bold py-2 rounded-full ",children:"Login"}),j&&(0,f.jsxs)("span",{className:"text-[red] py-2",children:[j.message," username or password. Please try again"]})]}),(0,f.jsx)("p",{className:" text-center my-6",children:(0,f.jsxs)(c.rU,{className:"text-[grey]",to:"/signup",children:[" ","I don't have an account ?              "]})}),(0,f.jsx)("p",{className:"text-center text-[grey] my-1 text-sm",children:"OR"}),(0,f.jsx)("div",{className:"mx-14 mb-10 glogin",children:(0,f.jsx)(m.kZ,{onSuccess:function(e){console.log(e);var a=e.clientId,t=(e.credential,(0,g.Z)(e.credential)),r=(t.email,{});r.username=t.given_name,r.email=t.email;r.phone="add phone number",r.google_id=a,r.img=t.picture,C(r),console.log(w)},onError:function(){console.log("Login failed")}})})]})})})]})}},3746:function(e,a,t){var r=t(4836);a.Z=void 0;var s=r(t(5649)),n=t(184),o=(0,s.default)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");a.Z=o},456:function(e,a,t){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var s="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var a=String(e).replace(/=+$/,"");if(a.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,s,n=0,o=0,l="";s=a.charAt(o++);~s&&(t=n%4?64*t+s:s,n++%4)?l+=String.fromCharCode(255&t>>(-2*n&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return l};function n(e){var a=e.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(s(e).replace(/(.)/g,(function(e,a){var t=a.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(a)}catch(e){return s(a)}}function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",a.Z=function(e,a){if("string"!=typeof e)throw new o("Invalid token specified");var t=!0===(a=a||{}).header?0:1;try{return JSON.parse(n(e.split(".")[t]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},8121:function(e,a,t){e.exports=t.p+"static/media/Trouvailler Green.4ede73bf19d4d33656b5.png"}}]);
//# sourceMappingURL=997.d506617a.chunk.js.map