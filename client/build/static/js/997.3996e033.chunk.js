"use strict";(self.webpackChunktravel_app=self.webpackChunktravel_app||[]).push([[997],{4997:function(e,t,a){a.r(t);var s=a(4165),r=a(5861),n=a(4942),o=a(1413),l=a(9439),i=a(2791),c=a(1087),p=a(2388),d=a(7689),u=a(785),m=a(5872),g=a(456),x=a(8121),f=a(3746),h=a(184);t.default=function(){var e=p.Z.create({baseURL:"https://api.trouvailler.com/api"}),t=(0,i.useState)({username:void 0,password:void 0}),a=(0,l.Z)(t,2),y=a[0],w=a[1],b=(0,i.useContext)(u.V),v=b.user,N=b.loading,I=b.error,j=b.dispatch,L=(0,d.s0)(),k=function(e){w((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,n.Z)({},e.target.id,e.target.value))}))},C=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(a){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),j({type:"LOGIN_START"}),t.prev=2,t.next=5,e.post("/auth/login",y);case 5:(r=t.sent).data?(j({type:"LOGIN_SUCCESS",payload:r.data.details}),L("/")):j({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),j({type:"LOGIN_FAILURE",payload:{message:" "}}),I.response?(alert("Please try again!"),j({type:"LOGIN_FAILURE",payload:{message:" "}})):I.request?(alert("Network error! Please try again later."),j({type:"LOGIN_FAILURE",payload:{message:" "}})):(alert(I.message+". Please try again"),j({type:"LOGIN_FAILURE",payload:{message:" "}}));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(a){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j({type:"LOGIN_START"}),t.prev=1,t.next=4,e.post("/auth/googlelogin",a);case 4:(r=t.sent).data?(j({type:"LOGIN_SUCCESS",payload:r.data.details}),L("/")):j({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),j({type:"LOGIN_FAILURE",payload:{message:" "}}),t.t0.response?t.t0.response&&405==t.t0.response.status?(alert("The user with this mail id already exists. Please try again with a different account"),j({type:"LOGIN_FAILURE",payload:{message:" "}})):t.t0.response&&403==t.t0.response.status?(alert("Please try again with a different account"),j({type:"LOGIN_FAILURE",payload:{message:" "}})):alert("Please try again with a different account!"):t.t0.request?alert("Network error! Please try again later."):alert(t.t0.message+". Please try again later.");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"bg-login relative h-screen w-full",children:[(0,h.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-[#0000009e]"}),(0,h.jsxs)("div",{className:"googlelogin bg-[white] py-4 sm:py-12 min-w-[300px] sm:min-w-[500px] lg:min-w-[600px] absolute z-[110] top-[50%] left-[50%] translate-x-[-50%] rounded-[10px] translate-y-[-50%] shadow-lg mx-auto",children:[(0,h.jsxs)("div",{className:"flex flex-col mx-8 justify-center items-center gap-2 sm:gap-8  ",children:[(0,h.jsx)("img",{src:x,className:"w-[80px] sm:w-[100px] lg:w-[150px]",alt:""}),(0,h.jsx)("h3",{style:{fontSize:"18px"},className:"font-bold title-font text-base sm:text-xl lg:text-2xl mb-8",children:"Hey, Welcome Back"})]}),(0,h.jsx)("div",{className:"mx-auto w-[90%] sm:w-[70%] pt-4 sm:pt-12 glogin",children:(0,h.jsx)(m.kZ,{onSuccess:function(e){console.log(e);var t=e.clientId,a=(e.credential,(0,g.Z)(e.credential)),s=(a.email,{});s.username=a.given_name,s.email=a.email;s.phone="add phone number",s.google_id=t,s.img=a.picture,E(s),console.log(v)},onError:function(){console.log("Login failed")}})}),(0,h.jsx)("p",{className:"text-center text-sm mt-2 sm:text-base sm:mt-8",children:"or"}),(0,h.jsxs)("div",{className:"flex w-[90%] sm:w-[70%] mx-auto flex-col mt-2 sm:mt-5",children:[(0,h.jsxs)("div",{className:"bg-[white] border border-[1px] border-[#00b07f] relative rounded mb-8",children:[(0,h.jsx)("span",{className:"absolute bg-[white] top-0 left-4 translate-y-[-50%] text-sm  lg:text-base px-2 text-[grey]",children:"Email"}),(0,h.jsx)("input",{type:"text",className:"  sm:p-3 outline-none text-sm sm:text-base rounded  border-transparent bg-transparent w-[100%] focus:ring-[transparent]  focus:border-[transparent] ",id:"username",onChange:k})]}),(0,h.jsxs)("div",{className:"bg-[white] relative border border-[1px] border-[#00b07f] rounded",children:[(0,h.jsx)("span",{className:"absolute bg-[white] top-0 left-4 translate-y-[-50%] px-2 text-[grey] text-sm  lg:text-base",children:"Password"}),(0,h.jsx)("input",{type:"password",className:" sm:p-3 outline-none rounded text-sm sm:text-base  border-transparent bg-transparent w-[90%] focus:ring-[transparent]  focus:border-[transparent] ",id:"password",onChange:k}),(0,h.jsx)(f.Z,{onClick:function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"},className:"w-[15px] text-[grey] cursor-pointer"})]})]}),(0,h.jsxs)("div",{className:"mx-auto w-[90%] sm:w-[70%] my-2 sm:my-5",children:[(0,h.jsx)("button",{disabled:N,onClick:C,className:" bg-evergreen text-whiteglow font-bold w-full rounded-md p-2 my-5",children:"Login"}),I&&(0,h.jsxs)("span",{className:"text-[red] text-xs md:text-base py-1 sm:py-2",children:[I.message,"Incorrect username or password. Please try again"]})]}),(0,h.jsxs)("p",{className:"sm:mx-14 text-center text-sm  lg:text-base",children:["Don't have an account?",(0,h.jsxs)(c.rU,{className:"text-[#339633]",to:"/signup",children:[" ","Sign up here"]})]})]})]})})}},3746:function(e,t,a){var s=a(4836);t.Z=void 0;var r=s(a(5649)),n=a(184),o=(0,r.default)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=o},456:function(e,t,a){function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,r,n=0,o=0,l="";r=t.charAt(o++);~r&&(a=n%4?64*a+r:r,n++%4)?l+=String.fromCharCode(255&a>>(-2*n&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return l};function n(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(e){return r(t)}}function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[a]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},8121:function(e,t,a){e.exports=a.p+"static/media/Trouvailler Green.4ede73bf19d4d33656b5.png"}}]);
//# sourceMappingURL=997.3996e033.chunk.js.map