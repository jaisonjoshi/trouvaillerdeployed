"use strict";(self.webpackChunktravel_app=self.webpackChunktravel_app||[]).push([[627],{9627:function(e,t,a){a.r(t);var r=a(4165),n=a(5861),s=a(4942),o=a(1413),l=a(9439),i=a(2791),c=a(1087),d=a(1210),u=(a(9329),a(2388)),m=a(7689),p=a(785),x=a(5872),g=a(456),h=a(3746),f=a(184);t.default=function(){var e=u.Z.create({baseURL:"https://api.trouvailler.com/api"}),t=(0,i.useState)({username:void 0,password:void 0,phone:void 0,email:void 0}),a=(0,l.Z)(t,2),b=a[0],y=a[1];function A(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}var v=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w=(0,i.useState)(""),N=(0,l.Z)(w,2),j=(N[0],N[1]),Z=(0,i.useState)(""),C=(0,l.Z)(Z,2),k=C[0],I=C[1],E=(0,i.useContext)(p.V),S=(E.user,E.loading),U=E.error,L=E.dispatch,P=(0,m.s0)(),z=function(e){y((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,s.Z)({},e.target.id,e.target.value))}))},q=function(e){j(e.target.value),v.test(e.target.value)?(I(""),y((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,s.Z)({},e.target.id,e.target.value))}))):I("Invalid email address")},O=function(){var t=(0,n.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,k){t.next=9;break}return t.next=5,e.post("/auth/register",b);case 5:t.sent.data?P("/login"):alert("Failed to create new user. Please try again"),t.next=10;break;case 9:alert("Kindly try again with a valid email id.");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),t.t0.response?t.t0.response&&403==t.t0.response.status?alert("Sorry, the username already exists!"):t.t0.response&&405==t.t0.response.status?alert("Sorry, the email id alredy exists!"):t.t0.response&&500==t.t0.response.status?alert("Unable to create a new user. Kindly fill all the mandatory fields."):alert(t.t0.message+". Please try again later."):t.t0.request?alert("Network error! Please try again later."):alert(t.t0.message+". Please try again later.");case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=(0,n.Z)((0,r.Z)().mark((function t(a){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L({type:"LOGIN_START"}),t.prev=1,t.next=4,e.post("/auth/googlelogin",a);case 4:(n=t.sent).data?(L({type:"LOGIN_SUCCESS",payload:n.data.details}),P("/")):L({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),L({type:"LOGIN_FAILURE",payload:{message:" "}}),t.t0.response?t.t0.response&&405==t.t0.response.status?(alert("The user with this mail id already exists. Please try again with a different account"),L({type:"LOGIN_FAILURE",payload:{message:" "}})):t.t0.response&&403==t.t0.response.status?(alert("Please try again with a different account"),L({type:"LOGIN_FAILURE",payload:{message:" "}})):alert("Please try again with a different account!"):t.t0.request?alert("Network error! Please try again later."):alert(t.t0.message+". Please try again later.");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 h-screen w-full",children:[(0,f.jsxs)("div",{className:"h-[100vh] lg:h-auto w-[100%] md:w-[70%] lg:w-[80%] 2xl:w-[60%] mx-auto pt-40",children:[(0,f.jsx)("h1",{className:"text-center m-4 font-bold text-2xl",children:"Create an Account"}),(0,f.jsx)("div",{className:"mx-14 glogin",children:(0,f.jsx)(x.kZ,{buttonText:"Sign up with Google",onSuccess:function(e){var t=e.clientId,a=(e.credential,(0,g.Z)(e.credential)),r=(a.email,{});r.username=a.given_name,r.email=a.email;r.phone="add phone number",r.google_id=t,r.img=a.picture,D(r)},onError:function(){console.log("Login failed")}})}),(0,f.jsx)("p",{className:"text-center text-blacky-light text-sm mt-8",children:"- OR -"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("input",{type:"text",className:"mx-8 md:mx-14 p-3 outline-none border-none rounded mb-4 bg-[#eeeeee] focus:ring-[transparent]  focus:border-[transparent]",placeholder:"Username",id:"username",required:!0,onChange:z}),(0,f.jsx)("input",{type:"email",className:"mx-8 md:mx-14 p-3 outline-none border-none rounded mb-4 bg-[#eeeeee] focus:ring-[transparent]  focus:border-[transparent]",placeholder:"E-mail",id:"email",required:!0,onChange:q}),k&&(0,f.jsx)("div",{className:"email-err",style:{color:"red"},children:k}),(0,f.jsx)("input",{type:"tel",className:"mx-8 md:mx-14 p-3 outline-none border-none rounded mb-4 bg-[#eeeeee] focus:ring-[transparent]  focus:border-[transparent]",placeholder:"Mobile Number",id:"phone",required:!0,onChange:z}),(0,f.jsxs)("div",{className:"bg-[#eeeeee] mx-8 md:mx-14 rounded",children:[(0,f.jsx)("input",{type:"password",className:" w-[90%] outline-none border-none focus:ring-[transparent]  focus:border-[transparent] bg-transparent",placeholder:"Create Password",id:"password",required:!0,onChange:z}),(0,f.jsx)(h.Z,{onClick:A,className:"text-[grey]"})]})]}),(0,f.jsxs)("div",{className:"mx-14 my-5",children:[(0,f.jsx)("button",{className:" bg-evergreen duration-500 font-bold text-whiteglow w-full rounded-md p-2 my-5",disabled:S,onClick:O,children:"Create Account"}),U&&(0,f.jsx)("span",{children:U.message})]}),(0,f.jsxs)("p",{className:"mx-14",children:["Already have an account?",(0,f.jsx)(c.rU,{className:"text-[#339633]",to:"/Login",children:"    Login"})]})]}),(0,f.jsx)("div",{style:{backgroundImage:"url(".concat(d,")")},className:"hidden lg:flex justify-center items-center h-[100vh] bg-center bg-no-repeat bg-cover"})]}),(0,f.jsx)("div",{className:"md:hidden loginbg h-[60vh] w-full",children:(0,f.jsxs)("div",{className:" bg-white absolute top-0 left-0 bottom-0 w-full  mx-auto",children:[(0,f.jsx)("h1",{className:"text-left mx-8 mb-8 mt-8 font-medium text-xl",children:"Create an Account"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("label",{htmlFor:"",className:"text-sm mx-8 text-[grey]",children:"User Name"}),(0,f.jsx)("input",{type:"text",className:"mx-8 md:mx-14 px-3 py-2 outline-none border-none rounded mb-4 bg-[#eeeeee] focus:ring-[transparent]  focus:border-[transparent]",placeholder:"",id:"username",required:!0,onChange:z}),(0,f.jsx)("label",{htmlFor:"",className:"text-sm mx-8 text-[grey]",children:"E-mail"}),(0,f.jsx)("input",{type:"email",className:"mx-8 md:mx-14 px-3 py-2 outline-none border-none rounded mb-4 bg-[#eeeeee] focus:ring-[transparent]  focus:border-[transparent]",placeholder:"",id:"email",required:!0,onChange:q}),k&&(0,f.jsx)("div",{className:"email-err",style:{color:"red"},children:k}),(0,f.jsx)("label",{className:"text-sm mx-8 text-[grey]",children:"Mobile Number"}),(0,f.jsx)("input",{type:"tel",className:"mx-8 md:mx-14 px-3 py-2 outline-none border-none rounded mb-4 bg-[#eeeeee] focus:ring-[transparent]  focus:border-[transparent]",placeholder:"",id:"phone",required:!0,onChange:z}),(0,f.jsx)("label",{htmlFor:"",className:"text-sm mx-8 text-[grey]",children:"Create Password"}),(0,f.jsxs)("div",{className:"bg-[#eeeeee] mx-8 md:mx-14 rounded",children:[(0,f.jsx)("input",{type:"password",className:" w-[90%] outline-none border-none focus:ring-[transparent]  focus:border-[transparent] bg-transparent",placeholder:"",id:"password",required:!0,onChange:z}),(0,f.jsx)(h.Z,{onClick:A,className:"text-[grey]"})]})]}),(0,f.jsxs)("div",{className:"mx-8 ",children:[(0,f.jsx)("button",{className:" bg-evergreen duration-500 font-bold text-whiteglow w-full rounded-full p-2 my-5",disabled:S,onClick:O,children:"Create Account"}),U&&(0,f.jsx)("span",{children:U.message})]}),(0,f.jsx)("p",{className:"mx-14 text-center",children:(0,f.jsx)(c.rU,{className:"text-[grey] text-base",to:"/Login",children:"    Already have an account?"})}),(0,f.jsx)("p",{className:"text-center text-blacky-light text-sm mt-4",children:"- OR -"}),(0,f.jsx)("div",{className:"mx-14 mb-8 glogin",children:(0,f.jsx)(x.kZ,{buttonText:"Sign up with Google",onSuccess:function(e){var t=e.clientId,a=(e.credential,(0,g.Z)(e.credential)),r=(a.email,{});r.username=a.given_name,r.email=a.email;r.phone="add phone number",r.google_id=t,r.img=a.picture,D(r)},onError:function(){console.log("Login failed")}})})]})})]})}},3746:function(e,t,a){var r=a(4836);t.Z=void 0;var n=r(a(5649)),s=a(184),o=(0,n.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=o},456:function(e,t,a){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var n="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,n,s=0,o=0,l="";n=t.charAt(o++);~n&&(a=s%4?64*a+n:n,s++%4)?l+=String.fromCharCode(255&a>>(-2*s&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};function s(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(e){return n(t)}}function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(s(e.split(".")[a]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},1210:function(e,t,a){e.exports=a.p+"static/media/loginwall.5fc843e317d706d754f3.webp"},9329:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIySURBVFhH7ZQ/SAJRHMfdXIIgPF2ihjwl0E4paOk81MEta3LLQS1ocXSMIBzbCiIoaMjDPKOGsDSDBpegKVIJcnOp7rZWe89+d7zy0uefgsAPfAfv9/P3/b33fu8Zhgz5l3hWTkf9kROBlBBOWyD8ewhRad4blbK+mNTQV6bki6VDkD5YkEGy1VBf3ph0gHcJ/tofW6Gdic+V6Zu1UV2Ipjko0xs1ftxYcdnuj5Y2b8ni+Bi8kUxCPX9fVIrjVaPYu5YTy1zwK4dGKNUbVTebrLpsDSxoou6PSAEItyCsZux4twZiXubsgmr+KfaZ9lz7Nscg0yLZAG4IQr/Pw9y0hTRHc3AMob+h4mYDZANlt3UNQm1xip7GT3Ic81Q1mpQ5Nkw2UJ2xUl0nPWNNKX4D0jqDV0w2UOZskxBqi66xqm4aqHC2INkAuo5UzysyKqpypPiSZo6EficgrTOVWdb+pQEXuw0hatCKw2QDTlGYhxAd+N6rDaBbIOObASEqnCJ/r5mn+Dp8pgcdQ/zbLlxAqCP4vL+u3rMLoe5Axtpj9LRovZMvmT3lZuTH17BWHDcqBXPy7HzmVjV3iLzMpQSqIW4BTz/e/qZ5jnlHxRtK3lx/K1hCyqVJu5ovuTG7UmCCKP7YzEFSm3CIC0FI642n1allOWeW1cLdaD/rXocy/QErLOmZ6EkuMM+vV0x3U0+DnDcl5HyH3bhmdtvNyUBonnfetEEKzwUeQkgZMuS/YDB8AMZxBkEEuERhAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=627.9233eba2.chunk.js.map