"use strict";(self.webpackChunkvendor_side_app=self.webpackChunkvendor_side_app||[]).push([[597],{4597:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(4165),r=a(5861),s=a(4942),o=a(1413),i=a(9439),l=a(2791),c=a(1087),d=a(2388),p=a(2354),u=a(7689),g=a(978),h=(a(5141),a(6226),a(5872)),m=a(456),A=a(184),f=function(e){var t=e.setOpen,a=d.Z.create({baseURL:"http://localhost:8080/api/"}),f=(0,l.useState)({username:void 0,password:void 0}),y=(0,i.Z)(f,2),x=y[0],w=y[1],v=(0,l.useContext)(g.V),I=(v.user,v.loading),N=v.error,b=v.dispatch,L=(0,u.s0)(),k=function(e){w((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,s.Z)({},e.target.id,e.target.value))}))},E=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(r){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),r.preventDefault(),b({type:"LOGIN_START"}),e.prev=3,e.next=6,a.post("/auth/login",x);case 6:(s=e.sent).data.isVendor?(b({type:"LOGIN_SUCCESS",payload:s.data.details}),L("/")):b({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),b({type:"LOGIN_FAILURE",payload:{message:" "}}),e.t0.response?(alert("Please try again!"),b({type:"LOGIN_FAILURE",payload:{message:" "}})):e.t0.request?(alert("Network error! Please try again later."),b({type:"LOGIN_FAILURE",payload:{message:" "}})):(alert(e.t0.message+". Please try again"),b({type:"LOGIN_FAILURE",payload:{message:" "}}));case 14:t(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"LOGIN_START"}),e.prev=1,e.next=4,a.post("/auth/googlelogin",t);case 4:(r=e.sent).data?(b({type:"LOGIN_SUCCESS",payload:r.data.details}),L("/")):b({type:"LOGIN_FAILURE",payload:{message:"Invalid credentials"}}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),b({type:"LOGIN_FAILURE",payload:{message:" "}}),e.t0.response?e.t0.response&&405==e.t0.response.status?(alert("The user with this mail id already exists. Please try again with a different account"),b({type:"LOGIN_FAILURE",payload:{message:" "}})):e.t0.response&&403==e.t0.response.status?(alert("Please try again with a different account"),b({type:"LOGIN_FAILURE",payload:{message:" "}})):alert("Please try again with a different account!"):e.t0.request?alert("Network error! Please try again later."):alert(e.t0.message+". Please try again later.");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,A.jsx)("div",{className:"login-box h-[100vh] bg-[white]",children:(0,A.jsx)("div",{className:"login-con  ",children:(0,A.jsxs)("div",{className:"login-box-content ",children:[(0,A.jsxs)("div",{className:"login-head",children:[(0,A.jsx)("img",{src:p,className:"w-[50%] sm:w-[30%] md:w-[50%] lg:w-[40%] mb-8 mx-auto",alt:""}),(0,A.jsx)("h3",{className:"font-medium",children:"Welcome back, Login into your account"})]}),(0,A.jsxs)("div",{className:" login-input mt-8",children:[(0,A.jsx)("input",{type:"text",className:" rounded ",placeholder:"Username",id:"username",onChange:k}),(0,A.jsx)("input",{type:"password",className:"rounded",placeholder:"Password",id:"password",onChange:k})]}),(0,A.jsxs)("div",{className:" loginbtn flex flex-col items-center justify-center",children:[(0,A.jsx)("button",{disabled:I,onClick:E,className:" bg-[#3aac38] w-full buttongrad font-bold px-4 py-2 text-[white] rounded ",children:"Login"}),N&&(0,A.jsx)("p",{className:"text-center text-[red]",children:N.message})]}),(0,A.jsxs)("div",{className:"googlelogin",children:[(0,A.jsx)("p",{className:"text-center mb-4",children:"or"}),(0,A.jsx)(h.kZ,{onSuccess:function(e){var t=e.clientId,a=(e.credential,(0,m.Z)(e.credential)),n=(a.email,{});n.username=a.given_name,n.email=a.email;n.phone="add phone number",n.google_id=t,n.img=a.picture,n.isVendor=!0,C(n)},onError:function(){console.log("Login failed")}})]}),(0,A.jsx)("div",{className:"text-center my-8",children:(0,A.jsxs)("p",{className:"",children:["New here?",(0,A.jsx)(c.rU,{className:"text-[#339633] ml-1",to:"/signup",children:"Signup"})," to create an account"]})})]})})})}},456:function(e,t,a){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,r,s=0,o=0,i="";r=t.charAt(o++);~r&&(a=s%4?64*a+r:r,s++%4)?i+=String.fromCharCode(255&a>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function s(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(e){return r(t)}}function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(s(e.split(".")[a]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},5141:function(e,t,a){e.exports=a.p+"static/media/loginwall.5fc843e317d706d754f3.webp"},6226:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIySURBVFhH7ZQ/SAJRHMfdXIIgPF2ihjwl0E4paOk81MEta3LLQS1ocXSMIBzbCiIoaMjDPKOGsDSDBpegKVIJcnOp7rZWe89+d7zy0uefgsAPfAfv9/P3/b33fu8Zhgz5l3hWTkf9kROBlBBOWyD8ewhRad4blbK+mNTQV6bki6VDkD5YkEGy1VBf3ph0gHcJ/tofW6Gdic+V6Zu1UV2Ipjko0xs1ftxYcdnuj5Y2b8ni+Bi8kUxCPX9fVIrjVaPYu5YTy1zwK4dGKNUbVTebrLpsDSxoou6PSAEItyCsZux4twZiXubsgmr+KfaZ9lz7Nscg0yLZAG4IQr/Pw9y0hTRHc3AMob+h4mYDZANlt3UNQm1xip7GT3Ic81Q1mpQ5Nkw2UJ2xUl0nPWNNKX4D0jqDV0w2UOZskxBqi66xqm4aqHC2INkAuo5UzysyKqpypPiSZo6EficgrTOVWdb+pQEXuw0hatCKw2QDTlGYhxAd+N6rDaBbIOObASEqnCJ/r5mn+Dp8pgcdQ/zbLlxAqCP4vL+u3rMLoe5Axtpj9LRovZMvmT3lZuTH17BWHDcqBXPy7HzmVjV3iLzMpQSqIW4BTz/e/qZ5jnlHxRtK3lx/K1hCyqVJu5ovuTG7UmCCKP7YzEFSm3CIC0FI642n1allOWeW1cLdaD/rXocy/QErLOmZ6EkuMM+vV0x3U0+DnDcl5HyH3bhmdtvNyUBonnfetEEKzwUeQkgZMuS/YDB8AMZxBkEEuERhAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=597.dd3c1cec.chunk.js.map