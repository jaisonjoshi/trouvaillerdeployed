"use strict";(self.webpackChunkvendor_side_app=self.webpackChunkvendor_side_app||[]).push([[584],{3710:function(e,t,s){s.r(t),s.d(t,{default:function(){return j}});var a=s(4165),r=s(5861),n=s(4942),i=s(1413),l=s(9439),c=s(5104),o=s(1640),d=s(7689),x=s(8914),u=(s(2382),s(7113),s(3e3)),h=s(9774),m=s(2791),p=s(2388),f=s(978),v=s(184),j=function(e){var t=e.setOpen,s=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,j=(0,m.useState)(""),g=(0,l.Z)(j,2),w=(g[0],g[1]),Z=(0,m.useState)(""),b=(0,l.Z)(Z,2),y=b[0],N=b[1],k=(0,m.useContext)(f.V),U=k.user,C=(k.dispatch,p.Z.create({baseURL:"https://api.trouvailler.com/api"})),S=(0,d.s0)(),L=(0,x.Z)("/user/find/".concat(U._id)),P=L.data,F=(L.loading,L.error,(0,m.useState)({})),z=(0,l.Z)(F,2),R=z[0],_=z[1],I=function(e){_((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,n.Z)({},e.target.id,e.target.value))}))},A=(0,m.useState)(""),O=(0,l.Z)(A,2),M=O[0],D=O[1],E=(0,m.useState)(""),G=(0,l.Z)(E,2),T=G[0],V=G[1],W=(0,m.useState)(!1),H=(0,l.Z)(W,2),q=H[0],B=H[1],$=(0,m.useState)([]),K=(0,l.Z)($,2),X=K[0],Y=K[1],J=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(s){var r,n,l,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),t(!0),e.prev=2,y){e.next=21;break}if(r=P.img,""==M){e.next=13;break}return(n=new FormData).append("file",M),n.append("upload_preset","upload"),e.next=11,C.post("https://api.cloudinary.com/v1_1/difxlqrlc/image/upload",n);case 11:l=e.sent,r=l.data.url;case 13:return sessionStorage.setItem("user.img",r),c=(0,i.Z)((0,i.Z)({},R),{},{img:r}),e.next=17,C.patch("/user/".concat(U._id),c);case 17:alert("Please Sign In again with your google account"),S("/login"),e.next=22;break;case 21:alert("Kindly try again with a valid email id.");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),e.t0.response?403==e.t0.response.status?alert("Sorry, the username already exists!"):405==e.t0.response.status?alert("Sorry, the email id alredy exists!"):400==e.t0.response.status?alert("Error! User not found."):alert(e.t0.message+" Please try again."):e.t0.request?alert("Network error! Please try again later."):alert(e.t0.message);case 27:t(!1);case 28:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{}),(0,v.jsxs)("div",{className:"update-profile",children:[(0,v.jsx)("h2",{className:"text-center",children:"Update your Profile details"}),q&&(0,v.jsx)("div",{className:"crop-box-con",children:(0,v.jsx)(h.Z,{photoURL:T,setOpenCrop:B,setPhotoURL:V,setFile:D,imgFiles:X,setImgFiles:Y,size:1})}),(0,v.jsx)("div",{className:"mt-8 flex items-center justify-center px-8 py-8",children:(0,v.jsxs)("div",{className:"flex  bg-[#ceffee] px-12 py-20 shadow-lg rounded justify-center items-start  gap-[30px] user-con",children:[(0,v.jsx)("div",{className:"w-[50%] flex justify-start ",children:(0,v.jsx)("img",{className:"w-[60%] md:w-[70%] max-w-[300px] rounded-full",src:M?URL.createObjectURL(M):P.img,alt:""})}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{htmlFor:"profilephoto",children:["Upload image  ",(0,v.jsx)(o.Z,{className:"upload-icn"})]}),(0,v.jsx)("input",{type:"file",id:"profilephoto",className:"hidden",onChange:function(e){var t=e.target.files[0];t&&(D(t),V(URL.createObjectURL(t)),B(!0))}}),(0,v.jsx)("div",{className:"w-[100%] md:w-[50%] mt-4 flex flex-col gap-[10px] items-start",children:(0,v.jsxs)("form",{action:"",className:"flex flex-col gap-[10px] items-start text-[grey]",children:[(0,v.jsx)("label",{htmlFor:"",children:"User Name "})," ",(0,v.jsx)("input",{className:"border-none px-4 py-1 rounded outline-none",type:"text",defaultValue:P.username,id:"username",onChange:I}),U.google_id?(0,v.jsx)("div",{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("label",{htmlFor:"",children:"Email "}),(0,v.jsx)("input",{type:"text",className:"border-none px-4 py-1 rounded outline-none",defaultValue:P.email,id:"email",onChange:function(e){w(e.target.value),s.test(e.target.value)?(N(""),_((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,n.Z)({},e.target.id,e.target.value))}))):N("Invalid email address")}})]}),y&&(0,v.jsx)("div",{className:"email-err",style:{color:"red"},children:y}),(0,v.jsx)("label",{htmlFor:"",children:"Phone "})," ",(0,v.jsx)("input",{type:"text",className:"border-none px-4 py-1 rounded outline-none",defaultValue:P.phone,id:"phone",onChange:I}),U.google_id?(0,v.jsx)("div",{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("label",{htmlFor:"",children:"Password "}),(0,v.jsx)("input",{type:"password",className:"border-none px-4 py-1 rounded outline-none",id:"password",onChange:I,placeholder:"Enter new password"})]}),(0,v.jsx)("button",{className:"flex justify-center items-center bg-evergreen text-blacky-medium w-36 font-bold rounded-md p-2 my-5 hover:bg-whiteglow duration-500",onClick:J,children:"Update"})]})})]})]})}),(0,v.jsx)("div",{className:"p-box"})]}),(0,v.jsx)(u.Z,{})]})}},3e3:function(e,t,s){s(2791);var a=s(9806),r=s(1187),n=s(2354),i=s(1087),l=s(184);t.Z=function(){return(0,l.jsx)("div",{id:"footer",children:(0,l.jsxs)("footer",{className:"bg-blacky-light p-4 ",children:[(0,l.jsxs)("div",{className:" flex w-[90%] gap-[1%] flex-wrap xl:w-[60%] mx-auto justify-between py-8 sm:py-12",children:[(0,l.jsxs)("div",{className:"w-[49%] md:w-[30%]",children:[(0,l.jsx)("h2",{className:"text-[white] text-base sm:text-lg pb-4 sm:pb-8",children:"Sitemap"}),(0,l.jsxs)("ul",{className:"flex flex-col gap-[10px]",children:[(0,l.jsx)("li",{className:"text-[#e2e2e2] text-xs sm:text-sm  hover:text-[white]",children:(0,l.jsx)(i.rU,{to:"/",children:" Home"})}),(0,l.jsx)("li",{className:"text-[#e2e2e2] text-xs sm:text-sm  hover:text-[white]",children:(0,l.jsx)(i.rU,{href:"https://trouvailler.com",children:" trouvailler.com"})}),(0,l.jsx)("li",{className:"text-[#e2e2e2] text-xs sm:text-sm  hover:text-[white]",children:(0,l.jsx)(i.rU,{to:"/termandconditions",children:" Terms & conditions"})}),(0,l.jsx)("li",{className:"text-[#e2e2e2] text-xs sm:text-sm  hover:text-[white]",children:(0,l.jsx)(i.rU,{to:"/privacypolicy",children:" Privacy Policy"})})]})]}),(0,l.jsxs)("div",{className:"w-[49%] md:w-[30%]",children:[(0,l.jsx)("h2",{className:"text-[white] text-base sm:text-lg pb-4 sm:pb-8",children:"Services"}),(0,l.jsxs)("ul",{className:" flex flex-col gap-[10px] text-xs sm:text-sm",children:[(0,l.jsx)("li",{className:"text-[#e2e2e2]  hover:text-[white]",children:(0,l.jsx)(i.rU,{to:"/vendor",children:" Go to hotels"})}),(0,l.jsx)("li",{className:"text-[#e2e2e2]  hover:text-[white]",children:(0,l.jsx)(i.rU,{to:"/",children:"Bids "})})]})]}),(0,l.jsxs)("div",{className:"w-[100%] md:w-[30%]",children:[(0,l.jsx)("h2",{className:"text-[white] pt-8 md:pt-0 text-base sm:text-lg pb-4 md:pb-8",children:"Connect us"}),(0,l.jsx)("p",{className:"text-[#e2e2e2] text-xs sm:text-sm ",children:"Get in touch with us anytime through our official WhatsApp handle "}),(0,l.jsx)("a",{href:"https://wa.me/918129177335",children:(0,l.jsxs)("button",{className:"bg-evergreen text-sm text-blacky-dark  font-bold rounded px-8 py-3 mt-4 flex items-center",children:[(0,l.jsx)("span",{children:"WhatsApp"})," ",(0,l.jsx)(a.G,{icon:r.VHX,className:"ml-3 text-lg"})]})})]})]}),(0,l.jsxs)("div",{className:"border-t-2 border-graydust-medium flex justify-between items-end align-middle px-0 py-3 sm:py-6 md:pl-6  ml-4 sm:mx-10",children:[(0,l.jsx)("a",{href:"",className:"w-[25%] sm:w-[10%]",children:(0,l.jsx)("img",{src:n,alt:"Trouvailler",className:"sm:w-100 xl:w-3/4"})}),(0,l.jsxs)("div",{className:"flex justify-evenly items-center",children:[(0,l.jsx)(i.rU,{className:"mx-4 text-[#e2e2e2] hidden sm:block text-xs text-underline",to:"/termandconditions",children:"Terms and Conditions"}),(0,l.jsx)(i.rU,{className:"mx-4 text-[#e2e2e2] hidden sm:block text-xs text-underline",to:"/privacypolicy",children:"Privacy Policy"}),(0,l.jsx)("a",{href:"https://www.facebook.com/travelwithtrouvailler/",children:(0,l.jsx)("div",{className:"bg-evergreen mx-1 w-6 h-6 rounded-full text-center",children:(0,l.jsx)(a.G,{icon:r.AYu})})}),(0,l.jsx)("a",{href:"https://www.youtube.com/@travelwithtrouvailler6162",children:(0,l.jsx)("div",{className:"bg-evergreen mx-1 w-6 h-6 rounded-full text-center",children:(0,l.jsx)(a.G,{icon:r.opf})})}),(0,l.jsx)("a",{href:"https://www.instagram.com/trouvailler_guides/",children:(0,l.jsx)("div",{className:"bg-evergreen mx-1 w-6 h-6 rounded-full text-center",children:(0,l.jsx)(a.G,{icon:r.Zzi})})})]})]}),(0,l.jsxs)("div",{className:"ml-4 text-[gray] sm:hidden",children:[(0,l.jsx)("span",{className:"text-xs",children:"Trouvailler \xa92023"}),(0,l.jsx)(i.rU,{className:"mx-1 underline  text-xs ",to:"/termandconditions",children:"Terms and Conditions"}),(0,l.jsx)(i.rU,{className:"mx-1 underline  text-xs ",to:"/privacypolicy",children:"Privacy Policy"})]})]})})}},9774:function(e,t,s){s.d(t,{Z:function(){return y}});var a=s(4165),r=s(3433),n=s(5861),i=s(9439),l=s(7893),c=s(4155),o=s(5450),d=s(7248),x=s(6015),u=s(4565),h=s(8473),m=s(7205),p=s(2791),f=s(7005),v=function(e){return new Promise((function(t,s){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return s(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function j(e){return e*Math.PI/180}function g(e,t,s){var a=j(s);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*t)}}function w(e,t){return Z.apply(this,arguments)}function Z(){return Z=(0,n.Z)((0,a.Z)().mark((function e(t,s){var r,n,i,l,c,o,d,x,u,h,m=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>2&&void 0!==m[2]?m[2]:0,n=m.length>3&&void 0!==m[3]?m[3]:{horizontal:!1,vertical:!1},e.next=4,v(t);case 4:if(i=e.sent,l=document.createElement("canvas"),c=l.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:return o=j(r),d=g(i.width,i.height,r),x=d.width,u=d.height,l.width=x,l.height=u,c.translate(x/2,u/2),c.rotate(o),c.scale(n.horizontal?-1:1,n.vertical?-1:1),c.translate(-i.width/2,-i.height/2),c.drawImage(i,0,0),h=c.getImageData(s.x,s.y,s.width,s.height),l.width=s.width,l.height=s.height,c.putImageData(h,0,0),e.abrupt("return",new Promise((function(e,t){l.toBlob((function(t){t.name="cropped.jpeg",e({file:t,url:URL.createObjectURL(t)})}),"image/jpeg")})));case 23:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var b=s(184),y=function(e){var t=e.photoURL,s=e.setOpenCrop,v=e.setPhotoURL,j=e.setFile,g=e.imgFiles,Z=e.setImgFiles,y=e.size,k=(0,p.useState)({x:0,y:0}),U=(0,i.Z)(k,2),C=U[0],S=U[1],L=(0,p.useState)(1),P=(0,i.Z)(L,2),F=P[0],z=P[1],R=(0,p.useState)(0),_=(0,i.Z)(R,2),I=_[0],A=_[1],O=(0,p.useState)(null),M=(0,i.Z)(O,2),D=M[0],E=M[1],G=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var n,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t,D,I);case 3:n=e.sent,i=n.file,l=n.url,v(l),j(i),Z([].concat((0,r.Z)(g),[i])),s(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{dividers:!0,sx:{background:"#333",position:"relative",height:400,width:"auto",minWidth:{sm:500}},children:(0,b.jsx)(f.ZP,{image:t,crop:C,zoom:F,rotation:I,aspect:y,onZoomChange:z,onRotationChange:A,onCropChange:S,onCropComplete:function(e,t){E(t)}})}),(0,b.jsxs)(d.Z,{sx:{flexDirection:"column",mx:3,my:2},children:[(0,b.jsxs)(x.Z,{sx:{width:"100%",mb:1},children:[(0,b.jsxs)(x.Z,{children:[(0,b.jsxs)(u.Z,{children:["Zoom: ",N(F)]}),(0,b.jsx)(h.ZP,{valueLabelDisplay:"auto",valueLabelFormat:N,min:1,max:3,step:.1,value:F,onChange:function(e,t){return z(t)}})]}),(0,b.jsxs)(x.Z,{children:[(0,b.jsxs)(u.Z,{children:["Rotation: ",I+"\xb0"]}),(0,b.jsx)(h.ZP,{valueLabelDisplay:"auto",min:0,max:360,value:I,onChange:function(e,t){return A(t)}})]})]}),(0,b.jsxs)(x.Z,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,b.jsx)(m.Z,{variant:"outlined",startIcon:(0,b.jsx)(l.Z,{}),onClick:function(){return s(!1)},children:"Cancel"}),(0,b.jsx)(m.Z,{variant:"contained",startIcon:(0,b.jsx)(c.Z,{}),onClick:G,children:"Crop"})]})]})]})},N=function(e){return"".concat(Math.round(100*e),"%")}},5104:function(e,t,s){s.d(t,{Z:function(){return f}});var a=s(4165),r=s(5861),n=s(2791),i=s(978),l=s(2354),c=(s(5717),s(2382),s(6409)),o=s(2093),d=(s(3037),s(1880)),x=(s(8688),s(1087)),u=s(8914),h=s(7689),m=s(2388),p=s(184),f=function(){var e=m.Z.create({baseURL:"https://api.trouvailler.com/api"}),t=(0,h.s0)(),s=(0,n.useContext)(i.V),f=s.user,v=(s.loading,s.error,s.dispatch),j=(0,u.Z)("/user/find/".concat(f._id)).data,g=function(){var s=(0,r.Z)((0,a.Z)().mark((function s(r){var n;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r.preventDefault(),v({type:"LOGOUT"}),s.prev=2,s.next=5,e.get("/auth/logout");case 5:n=s.sent,sessionStorage.removeItem("user"),n&&t("/login"),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(2),v({type:"LOGOUT",payload:{message:"logged out"}});case 13:case"end":return s.stop()}}),s,null,[[2,10]])})));return function(e){return s.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"header",children:[(0,p.jsx)("div",{className:"pic1 w-full h-[50vh]"}),(0,p.jsxs)("div",{className:"header-content",children:[(0,p.jsxs)("div",{className:"header-nav",children:[(0,p.jsxs)("div",{className:"prof",children:[(0,p.jsx)("img",{className:"w-[20px] h-[20px] sm:w-[30px] rounded-full sm:h-[30px] ",src:void 0!=j&&j.img}),(0,p.jsx)("button",{className:"mr-4 text-xs sm:text-base",onClick:g,children:"Logout"})]}),(0,p.jsxs)("div",{className:"nav-items",children:[(0,p.jsx)(x.rU,{to:"/",children:(0,p.jsx)("a",{href:"www.trouvailler.com",className:"text-xs sm:text-base",children:"Home"})}),(0,p.jsxs)("span",{className:"header-txt",children:["Explore ",(0,p.jsx)("a",{href:"www.trouvailler.com",children:"trouvailler.com"})]}),(0,p.jsx)("a",{href:"https://www.facebook.com/travelwithtrouvailler/",children:(0,p.jsx)(o.Z,{className:"nav-icon",sx:{fontSize:18}})})," ",(0,p.jsx)("a",{href:"https://wa.me/918129177335",children:(0,p.jsx)(c.Z,{sx:{fontSize:18},className:"nav-icon"})}),(0,p.jsx)("a",{href:"https://www.instagram.com/trouvailler_guides/",children:(0,p.jsx)(d.Z,{sx:{fontSize:18},className:"nav-icon"})})]})]}),(0,p.jsxs)("div",{className:"header-logo",children:[(0,p.jsx)("img",{src:l}),(0,p.jsx)("p",{className:"text-sm sm:text-base",children:"Travel takes us out of our comfort zones and inspires us to see, taste and try new things"})]})]})]})}},8914:function(e,t,s){var a=s(4165),r=s(5861),n=s(9439),i=s(2791),l=s(2388);t.Z=function(e){var t=l.Z.create({baseURL:"https://api.trouvailler.com/api"}),s=(0,i.useState)([]),c=(0,n.Z)(s,2),o=c[0],d=c[1],x=(0,i.useState)(!0),u=(0,n.Z)(x,2),h=u[0],m=u[1],p=(0,i.useState)(!1),f=(0,n.Z)(p,2),v=f[0],j=f[1];(0,i.useEffect)((function(){var s=function(){var s=(0,r.Z)((0,a.Z)().mark((function s(){var r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return m(!0),s.prev=1,s.next=4,t.get(e);case 4:r=s.sent,d(r.data),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),j(s.t0);case 11:m(!1);case 12:case"end":return s.stop()}}),s,null,[[1,8]])})));return function(){return s.apply(this,arguments)}}();s()}),[e]);var g=function(){var s=(0,r.Z)((0,a.Z)().mark((function s(){var r;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return m(!0),s.prev=1,s.next=4,t.get(e);case 4:r=s.sent,d(r.data),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),j(s.t0);case 11:m(!1);case 12:case"end":return s.stop()}}),s,null,[[1,8]])})));return function(){return s.apply(this,arguments)}}();return{data:o,loading:h,error:v,reFetch:g}}},7113:function(e,t,s){e.exports=s.p+"static/media/hotel.5ac2ae0ccada1afb36f5.jpg"},2382:function(e,t,s){e.exports=s.p+"static/media/profile.1d714dafbffae01eaa1f.jpg"}}]);
//# sourceMappingURL=584.f3ce0933.chunk.js.map